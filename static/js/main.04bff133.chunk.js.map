{"version":3,"sources":["components/header/header.jsx","components/promo/promo.jsx","store/actions.js","store/rates-data/rates-data.js","store/history-data/history-data.js","store/root-reduser.js","store/rates-data/selectors.js","const.js","store/api-actions.js","components/converter/converter.jsx","store/history-data/selectors.js","components/history/history.jsx","components/main/main.jsx","components/footer/footer.jsx","components/app/app.jsx","index.js","services/api.js"],"names":["Header","className","href","viewBox","width","height","xlinkHref","Promo","ActionType","initialState","rates","isDataLoaded","history","localStorage","getItem","JSON","parse","NameSpace","combine","combineReducers","state","action","type","payload","getRates","getIsDataLoaded","Currency","fetchRatesList","date","dispatch","_getState","api","get","then","data","connect","onDateChange","onHistoryAdd","addHistory","useState","Date","startDate","setStartDate","firstCurrency","secondCurrency","firstValue","secondValue","quotation","setData","toFixed","onSubmit","evt","getDate","getMonth","getFullYear","preventDefault","historyLog","value","onChange","target","defaultValue","dateFormat","selected","minDate","setDate","maxDate","getHistory","setItem","stringify","length","slice","onHistoryResetClick","map","log","index","split","join","onClick","Main","Footer","App","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","onUnauthorized","axios","create","baseURL","timeout","interceptors","response","use","err","createAPI","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.04bff133.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return(\n    <header className=\"header\">\n      <div className=\"header__wrapper container\">\n        <a className=\"header__logo link\" href=\"/\" aria-label=\"Лига Банк\">\n          <svg className=\"header__logo-image\" viewBox=\"0 0 30 27\" width={28} height={25}>\n            <use xlinkHref=\"#logo\" />\n          </svg>\n\n          ЛИГА Банк\n        </a>\n\n        <nav className=\"header__nav nav\">\n          <ul className=\"header__list list\">\n            <li className=\"header__item\">\n              <a className=\"header__link link\" href=\"/\">Услуги</a>\n            </li>\n            <li className=\"header__item\">\n              <a className=\"header__link link\" href=\"/\">Рассчитать кредит</a>\n            </li>\n            <li className=\"header__item\">\n              <a className=\"header__link link header__link--active\" href=\"/\">Конвертер валют</a>\n            </li>\n            <li className=\"header__item\">\n              <a className=\"header__link link\" href=\"/\">Контакты</a>\n            </li>\n            <li className=\"header__item\">\n              <a className=\"header__link link\" href=\"/\">Задать вопрос</a>\n            </li>\n          </ul>\n\n          <a className=\"header__user-link link\" href=\"/\" aria-label=\"Авторизация\">\n            <svg viewBox=\"0 0 20 22\" width=\"20\" height=\"22\">\n              <use xlinkHref=\"#user-login\"></use>\n            </svg>\n\n            Войти в Интернет-банк\n          </a>\n        </nav>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Promo() {\n  return(\n    <section className=\"promo container\">\n      <h2 className=\"promo__header\">Лига Банк</h2>\n\n      <p className=\"promo__description\">Кредиты на любой случай</p>\n\n      <a href=\"/\" className=\"promo__link link button\">Рассчитать кредит</a>\n    </section>\n  );\n}\n\nexport default Promo;\n","const ActionType = {\n  LOAD_RATES: 'rates/loadRates',\n  UPGRADE_RATES: 'rates/upgradeRates',\n  ADD_HISTORY: 'history/addHistory',\n  RESET_HISTORY: 'history/resetHistory',\n};\n\nconst loadRates = (rates) => ({\n  type: ActionType.LOAD_RATES,\n  payload: rates,\n});\n\nconst upgradeRates = () => ({\n  type: ActionType.UPGRADE_RATES,\n});\n\nconst addHistory = (history) => ({\n  type: ActionType.ADD_HISTORY,\n  payload: history,\n});\n\nconst resetHistory = () => ({\n  type: ActionType.RESET_HISTORY,\n});\n\n\nexport {ActionType, loadRates, upgradeRates, addHistory, resetHistory};\n","import {ActionType} from '../actions.js';\n\nconst initialState = {\n  rates: {},\n  isDataLoaded: false,\n};\n\nconst ratesData = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionType.LOAD_RATES:\n      return {\n        ...state,\n        rates: action.payload,\n        isDataLoaded: true,\n      };\n    case ActionType.UPGRADE_RATES:\n      return {\n        ...state,\n        isDataLoaded: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport {ratesData};\n","import {ActionType} from '../actions.js';\n\nconst initialState = {\n  history: localStorage.getItem('history') ? JSON.parse(localStorage.getItem('history')) : [],\n};\n\nconst historyData = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionType.ADD_HISTORY:\n      return {\n        ...state,\n        history: [...state.history, action.payload],\n      };\n    case ActionType.RESET_HISTORY:\n      return {\n        ...state,\n        history: [],\n      };\n    default:\n      return state;\n  }\n};\n\nexport {historyData};\n","import {combineReducers} from 'redux';\nimport {ratesData} from './rates-data/rates-data.js';\nimport {historyData} from './history-data/history-data.js';\n\nconst NameSpace = {\n  RATES_DATA: 'RATES_DATA',\n  HISTORY_DATA: 'HISTORY_DATA',\n};\n\nconst combine = combineReducers({\n  [NameSpace.RATES_DATA]: ratesData,\n  [NameSpace.HISTORY_DATA]: historyData,\n});\n\nexport {NameSpace, combine as default};\n","import {NameSpace} from '../root-reduser';\n\nconst getRates = (state) => state[NameSpace.RATES_DATA].rates;\nconst getIsDataLoaded = (state) => state[NameSpace.RATES_DATA].isDataLoaded;\n\nexport {getRates, getIsDataLoaded};\n","const MAX_HISTORY_LOGS = 10;\nconst VALUE_ROUNDING = 4;\nconst LOG_VALUE_ROUNDING = 9;\nconst KEY = 'access_key=390d67a89fd66891e85004f496e1975b';\n\nconst APIRoute = {\n  TODAY: '/latest',\n};\n\nconst Currency = {\n  RUB: 'RUB',\n  USD: 'USD',\n  EUR: 'EUR',\n  GBP: 'GBP',\n  CNY: 'CNY',\n}\n\nexport {APIRoute, Currency, MAX_HISTORY_LOGS, VALUE_ROUNDING, LOG_VALUE_ROUNDING, KEY};\n","import {loadRates} from './actions.js';\nimport {KEY} from '../const.js';\n\n\nconst fetchRatesList = (date) => (dispatch, _getState, api) => (\n  api.get(`${date}?${KEY}`)\n    .then(({data}) => dispatch(loadRates(data.rates)))\n);\n\nexport {fetchRatesList};\n","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport DatePicker from 'react-datepicker';\n\nimport {getRates, getIsDataLoaded} from '../../store/rates-data/selectors.js';\nimport {fetchRatesList} from '../../store/api-actions.js';\nimport {Currency, VALUE_ROUNDING} from '../../const.js';\nimport {upgradeRates, addHistory} from '../../store/actions.js';\n\nfunction Converter({rates, isDataLoaded, onDateChange, onHistoryAdd}) {\n  const [startDate, setStartDate] = useState(new Date());\n  const [data, setData] = useState({\n    rates,\n    firstCurrency: Currency.RUB,\n    secondCurrency: Currency.USD,\n    firstValue: '1000',\n    secondValue: '13,1234',\n    quotation: null,\n  });\n\n  const handleFirstValueChange = (evt) => {\n    setData({\n      ...data,\n      firstValue: evt.target.value,\n      secondValue: (evt.target.value * data.quotation).toFixed(VALUE_ROUNDING),\n    });\n  };\n\n  const handleSecondValueChange = (evt) => {\n    setData({\n      ...data,\n      secondValue: evt.target.value,\n      firstValue: (evt.target.value / data.quotation).toFixed(VALUE_ROUNDING),\n    });\n  };\n\n  const handleFirstCurrencyChange = (evt) => {\n    setData({\n      ...data,\n      firstCurrency: evt.target.value,\n      secondValue: (data.firstValue * (rates[data.secondCurrency] / rates[evt.target.value])).toFixed(VALUE_ROUNDING),\n      quotation: rates[data.secondCurrency] / rates[evt.target.value],\n    });\n  };\n\n  const handleSecondCurrencyChange = (evt) => {\n    setData({\n      ...data,\n      secondCurrency: evt.target.value,\n      firstValue: (data.secondValue / (rates[evt.target.value] / rates[data.firstCurrency])).toFixed(VALUE_ROUNDING),\n      quotation: rates[evt.target.value] / rates[data.firstCurrency],\n    });\n  };\n\n  const handleDateChange = (date) => {\n    setStartDate(date);\n\n    isDataLoaded = false;\n\n    onDateChange(`${date.getFullYear()}-${(date.getMonth() + 1) < 10 ? `0${date.getMonth() + 1}` : (date.getMonth() + 1)}-${date.getDate()}`);\n  }\n\n  const handleHistoryAdd = (evt) => {\n    const date = `${startDate.getDate()}.${(startDate.getMonth() + 1) < 10 ? `0${startDate.getMonth() + 1}` : (startDate.getMonth() + 1)}.${startDate.getFullYear()}`;\n\n    evt.preventDefault();\n\n    const historyLog = {\n      date,\n      firstValue: data.firstValue,\n      firstCurrency: data.firstCurrency,\n      secondValue: data.secondValue,\n      secondCurrency: data.secondCurrency,\n    };\n\n    onHistoryAdd(historyLog);\n  }\n\n  if ((data.quotation !== (rates[data.secondCurrency] / rates[data.firstCurrency])) && isDataLoaded) {\n    setData({\n      ...data,\n      quotation: rates[data.secondCurrency] / rates[data.firstCurrency],\n      secondValue: (data.firstValue * (rates[data.secondCurrency] / rates[data.firstCurrency])).toFixed(VALUE_ROUNDING),\n    });\n  }\n\n  return(\n    <section className=\"converter container\">\n      <h2 className=\"converter__header\">\n        Конвертер валют\n      </h2>\n\n      <form className=\"converter__form\" onSubmit={handleHistoryAdd}>\n        <fieldset className=\"converter__fieldset\">\n          <label className=\"converter__label\">\n            У меня есть\n          </label>\n\n          <input className=\"converter__first-value converter__value\" type=\"number\" value={data.firstValue} onChange={handleFirstValueChange} />\n\n          <select className=\"converter__first-currency converter__currency\" defaultValue={data.firstCurrency} onChange={handleFirstCurrencyChange}>\n            <option value={Currency.RUB}>{Currency.RUB}</option>\n            <option value={Currency.USD}>{Currency.USD}</option>\n            <option value={Currency.EUR}>{Currency.EUR}</option>\n            <option value={Currency.GBP}>{Currency.GBP}</option>\n            <option value={Currency.CNY}>{Currency.CNY}</option>\n          </select>\n        </fieldset>\n\n        <fieldset className=\"converter__fieldset\">\n          <label className=\"converter__label\">\n            Хочу приобрести\n          </label>\n\n          <input className=\"converter__second-value converter__value\" type=\"number\" value={data.secondValue} onChange={handleSecondValueChange} />\n\n          <select className=\"converter__second-currency converter__currency\" defaultValue={data.secondCurrency} onChange={handleSecondCurrencyChange}>\n            <option value={Currency.RUB}>{Currency.RUB}</option>\n            <option value={Currency.USD}>{Currency.USD}</option>\n            <option value={Currency.EUR}>{Currency.EUR}</option>\n            <option value={Currency.GBP}>{Currency.GBP}</option>\n            <option value={Currency.CNY}>{Currency.CNY}</option>\n          </select>\n        </fieldset>\n\n        <div className=\"converter__datepicker-wrapper react-datepicker\">\n          <DatePicker\n            className={'converter__datepicker'}\n            dateFormat=\"dd.MM.yyyy\"\n            selected={startDate}\n            onChange={handleDateChange}\n            minDate={new Date().setDate(new Date().getDate() - 7)}\n            maxDate={new Date()}\n          />\n        </div>\n\n\n        <button className=\"converter__button button\" type=\"submit\">Сохранить результат</button>\n      </form>\n    </section>\n  );\n}\n\nConverter.propTypes = {\n  rates: PropTypes.objectOf(PropTypes.number.isRequired).isRequired,\n  isDataLoaded: PropTypes.bool.isRequired,\n  onDateChange: PropTypes.func.isRequired,\n  onHistoryAdd: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  rates: getRates(state),\n  isDataLoaded: getIsDataLoaded(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onDateChange(date) {\n    dispatch(upgradeRates());\n    dispatch(fetchRatesList(date));\n  },\n  onHistoryAdd(history) {\n    dispatch(addHistory(history));\n  }\n});\n\nexport {Converter};\nexport default connect(mapStateToProps, mapDispatchToProps)(Converter);\n","import {NameSpace} from '../root-reduser';\nimport {MAX_HISTORY_LOGS} from '../../const';\n\nconst getHistory = (state) => {\n  const history = state[NameSpace.HISTORY_DATA].history;\n\n  localStorage.setItem('history', JSON.stringify(history));\n\n  if (history.length > MAX_HISTORY_LOGS) {\n    return history.slice(history.length - MAX_HISTORY_LOGS);\n  }\n\n  return history;\n}\n\nexport {getHistory};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {getHistory} from '../../store/history-data/selectors';\nimport {resetHistory} from '../../store/actions';\nimport {LOG_VALUE_ROUNDING} from '../../const.js';\n\nfunction History({history, onHistoryResetClick}) {\n  const handleHistoryReset = (evt) => {\n    evt.preventDefault();\n\n    onHistoryResetClick();\n  }\n\n  return(\n    <section className=\"history container\">\n      <h2 className=\"history__header\">\n        История конвертация\n      </h2>\n\n      <ul className=\"history__list\">\n        {history.map((log, index) => (\n          <li className=\"history__item\" key={`${log}-${index}`}>\n            <span className=\"history__date\">\n              {log.date}\n            </span>\n            <span className=\"history__first-value\">\n              {log.firstValue.length > LOG_VALUE_ROUNDING ? `${log.firstValue.split('').slice(0, LOG_VALUE_ROUNDING).join('')}...` : log.firstValue}\n            </span>\n            <span className=\"history__first-currency\">\n              {log.firstCurrency}\n            </span>\n            <span className=\"history__second-value\">\n              {log.secondValue.length > LOG_VALUE_ROUNDING ? `${log.secondValue.split('').slice(0, LOG_VALUE_ROUNDING).join('')}...` : log.secondValue}\n            </span>\n            <span className=\"history__second-currency\">\n              {log.secondCurrency}\n            </span>\n          </li>\n        ))}\n      </ul>\n\n      <button className=\"history__button button\" onClick={handleHistoryReset}>\n        Очистить историю\n      </button>\n    </section>\n  );\n}\n\nHistory.propTypes = {\n  history: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  onHistoryResetClick: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  history: getHistory(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onHistoryResetClick() {\n    dispatch(resetHistory());\n  }\n});\n\nexport {History};\nexport default connect(mapStateToProps, mapDispatchToProps)(History);\n","import React from 'react';\nimport Promo from '../promo/promo';\nimport Converter from '../converter/converter';\nimport History from '../history/history';\n\nfunction Main() {\n  return(\n    <main className=\"page-main\">\n      <h1 className=\"visually-hidden\">Лига Банк</h1>\n\n      <Promo />\n\n      <Converter />\n\n      <History />\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return(\n    <footer className=\"footer\">\n      <div className=\"footer__wrapper container\">\n        <div className=\"footer__logo-wrapper\">\n          <a className=\"footer__logo link\" href=\"/\" aria-label=\"Лига Банк\">\n            <svg className=\"footer__logo-image\" viewBox=\"0 0 30 27\" width={28} height={25}>\n              <use xlinkHref=\"#logo\" />\n            </svg>\n\n            ЛИГА Банк\n          </a>\n\n          <p className=\"footer__address\">\n            150015, г. Москва, ул. Московская, д. 32\n          </p>\n\n          <p className=\"footer__license\">\n            Генеральная лицензия Банка России №1050 <br />\n            Ⓒ Лига Банк, 2019\n          </p>\n        </div>\n\n        <nav className=\"footer__nav nav\">\n          <ul className=\"footer__list\">\n            <li className=\"footer__item\">\n              <a className=\"footer__link link\" href=\"/\">Услуги</a>\n            </li>\n            <li className=\"footer__item\">\n              <a className=\"footer__link link\" href=\"/\">Рассчитать кредит</a>\n            </li>\n            <li className=\"footer__item\">\n              <a className=\"footer__link link\" href=\"/\">Контакты</a>\n            </li>\n            <li className=\"footer__item\">\n              <a className=\"footer__link link\" href=\"/\">Задать вопрос</a>\n            </li>\n          </ul>\n        </nav>\n\n        <div className=\"footer__contact-number footer__contact-number--mobile\">\n          <a href=\"tel:*0904\" className=\"footer__phone-number footer__phone-number--mobile link\">\n            <svg className=\"footer__mobile-image\" viewBox=\"0 0 10 16\" width={10} height={16}>\n              <use xlinkHref=\"#mobile-phone\" />\n            </svg>\n\n            *0904\n          </a>\n\n          <p className=\"footer__phone-description\">\n            Бесплатно для абонентов МТС, Билайн, Мегафон, Теле2\n          </p>\n        </div>\n\n        <div className=\"footer__contact-number\">\n          <a href=\"tel:88001112233\" className=\"footer__phone-number link\">\n            <svg className=\"footer__phone-image\" viewBox=\"0 0 16 16\" width={16} height={16}>\n              <use xlinkHref=\"#phone\" />\n            </svg>\n\n            8 800 111 22 33\n          </a>\n\n          <p className=\"footer__phone-description\">\n            Бесплатный для всех городов России\n          </p>\n        </div>\n\n        <ul className=\"footer__social\">\n          <li>\n            <a href=\"/\" className=\"link\" aria-label=\"Facebook\">\n              <svg width=\"9\" height=\"16\" viewBox=\"0 0 9 16\">\n                <use xlinkHref=\"#facebook\"></use>\n              </svg>\n            </a>\n          </li>\n          <li>\n            <a href=\"/\" className=\"link\" aria-label=\"Instagram\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n                <use xlinkHref=\"#instagram\"></use>\n              </svg>\n            </a>\n          </li>\n          <li>\n            <a href=\"/\" className=\"link\" aria-label=\"Twitter\">\n              <svg width=\"16\" height=\"13\" viewBox=\"0 0 16 13\">\n                <use xlinkHref=\"#twitter\"></use>\n              </svg>\n            </a>\n          </li>\n          <li>\n            <a href=\"/\" className=\"link\" aria-label=\"Youtube\">\n              <svg width=\"16\" height=\"13\" viewBox=\"0 0 16 13\">\n                <use xlinkHref=\"#youtube\"></use>\n              </svg>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport Header from '../header/header';\nimport Main from '../main/main';\nimport Footer from '../footer/footer';\nimport './app.scss';\n\nfunction App() {\n\n  return (\n    <>\n      <Header />\n\n      <Main />\n\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport {composeWithDevTools} from 'redux-devtools-extension';\n\nimport App from './components/app/app';\n\nimport {createAPI} from './services/api';\nimport rootReducer from './store/root-reduser.js';\nimport {fetchRatesList} from './store/api-actions';\n\nimport {APIRoute} from './const';\n\nconst store = createStore(rootReducer, composeWithDevTools(\n  applyMiddleware(thunk.withExtraArgument(createAPI()))\n));\n\n\nstore.dispatch(fetchRatesList(APIRoute.TODAY));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","import axios from 'axios';\n\nconst BACKEND_URL = 'https://api.exchangeratesapi.io/v1/';\nconst REQUEST_TIMEOUT = 5000;\n\nconst createAPI = (onUnauthorized) => {\n  const api = axios.create({\n    baseURL: BACKEND_URL,\n    timeout: REQUEST_TIMEOUT,\n  });\n\n  const onSuccess = (response) => {\n    return response;\n  };\n\n  const onFail = (err) => {\n    throw err;\n  };\n\n  api.interceptors.response.use(onSuccess, onFail);\n\n  return api;\n};\n\nexport {createAPI};\n"],"sourceRoot":""}